<!doctype html> <html>
    <head>
      <meta charset="utf-8"/>
      <link rel="stylesheet" href="http://elm-in-action.com/styles.css">
      <script src="http://elm-in-action.com/polyfill/webcomponents.js"></script>
      <script>window.Polymer = {dom: "shadow"};</script>
      <link rel="import" href="http://elm-in-action.com/wc/slider/paper-slider.html">
    </head>
<body>
  <div id="elm-area"></div>
  <script src="http://elm-in-action.com/pasta.js"></script>
  <script src="elm.js"></script>
  <script>
  var app = Elm.PhotoGroove.embed(document.getElementById("elm-area"), Pasta.version);

  app.ports.setFilters.subscribe(function(options) {
    requestAnimationFrame(function() {
      Pasta.apply(document.getElementById("main-canvas"), options);
    });
  });

  Pasta.addStatusListener(function(status) {
    // console.log("Got a new status to send to Elm: ", status);
    app.ports.statusChanges.send(status);
  });
  </script>
</body>
</html>
